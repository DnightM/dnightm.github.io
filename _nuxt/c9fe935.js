(window.webpackJsonp=window.webpackJsonp||[]).push([[308],{1732:function(e,t,n){"use strict";n.r(t);n(29),n(86),n(52),n(13),n(17);var r=n(14),o=n(7),c=n(8),l=n(10),f=n(9),d=n(6),m=(n(39),n(3)),h=n(1),v=n(1236),main=n(15),_=n(38);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var y=function(e){Object(l.a)(n,e);var t=x(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).MainStore=Object(h.getModule)(main.default,e.$store),e.AuthStore=Object(h.getModule)(_.default,e.$store),e}return Object(c.a)(n,[{key:"showTable",get:function(){return this.$route.query.menu}},{key:"coupons",get:function(){return this.AuthStore.coupons}},{key:"franchiseInfo",get:function(){return this.AuthStore.franchiseInfo}},{key:"total",get:function(){return this.AuthStore.total}},{key:"giftedTotal",get:function(){return this.AuthStore.giftedTotal}},{key:"usedTotal",get:function(){return this.AuthStore.usedTotal}},{key:"menus",get:function(){return[{id:0,name:"구매",amount:void 0,to:"/partner/coupons"},{id:1,name:"보유한",amount:this.total,to:"/partner/coupons?menu=owned"},{id:2,name:"선물한",amount:this.giftedTotal,to:"/partner/coupons?menu=gifted"},{id:3,name:"사용된",amount:this.usedTotal,to:"/partner/coupons?menu=used"}]}},{key:"partner",get:function(){return{name:this.franchiseInfo.name,naverAccounts:this.franchiseInfo.user}}},{key:"url",get:function(){return"https://m.site.naver.com/186i5"}},{key:"goToStore",value:function(e){window.open(e)}}]),n}(h.Vue),w=y=Object(m.a)([Object(h.Component)({middleware:["authenticated","access"],components:{BasicConfirmPopup:v.default},asyncData:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,l,f,d,m,menu,v,x,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$axios,r=e.redirect,o=e.store,c=e.route,l=e.$device,f=Object(h.getModule)(_.default,o),d=f.user,(m=f.privateUserInfo.franchise)||r("/"),menu=c.query.menu,v=10,l.isDesktop||(v=5),t.next=10,n.$get("/coupons/user/".concat(d.id),{params:{offset:1,menu:menu,limit:v}});case 10:return x=t.sent,t.next=13,n.$get("/franchises/".concat(m.id));case 13:y=t.sent,x||r("/"),f.setCoupons(x.items),f.setCouponsPagination(x),f.setFranchiseInfo(y);case 18:case"end":return t.stop()}}),t)})))()},head:{title:"쿠폰 관리"}})],y),C=n(12),component=Object(C.a)(w,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"max-w-screen-xl pages"},[t("div",{staticClass:"hidden sm:flex items-center justify-center text-4xl"},[e._v("\n    쿠폰 관리\n  ")]),e._v(" "),t("div",{staticClass:"hidden sm:flex flex-col"},[t("div",{staticClass:"flex justify-center items-center text-[1.6rem] text-[#aaa]"},e._l(e.menus,(function(menu,i){return t("div",{key:menu.name,staticClass:"flex items-center"},[t("nuxt-link",{staticClass:"hover:text-black cursor-pointer",class:{"font-medium text-black":menu.to===e.$route.fullPath},attrs:{draggable:"false",to:menu.to}},[e._v("\n          "+e._s(menu.name)),menu.amount?t("span",{staticClass:"ml-2 px-2 bg-[#fafafa] border border-[#ccc] rounded-lg"},[e._v(e._s(menu.amount))]):e._e()]),e._v(" "),i<e.menus.length-1?t("div",{staticClass:"mx-8 w-[1px] h-[1.4rem] border-r border-r-[#ddd]"}):e._e()],1)})),0),e._v(" "),t("section",{staticClass:"mt-12 flex justify-center"},[t("div",{staticClass:"py-2 px-4 bg-[#fafafa] border border-[#ccc] rounded-lg"},[t("span",[e._v("제휴 정보 - 업체명 : "+e._s(e.partner.name))]),e._v(" "),t("span",[e._v("/")]),e._v(" "),t("span",[e._v("네이버 ID : ")]),e._v(" "),t("span",{staticClass:"tracking-normal"},[e._v("\n          "+e._s(e.partner.naverAccounts.map((function(e){return e.email})).join(", "))+"\n        ")])])])]),e._v(" "),t("section",{staticClass:"sm:mb-20"},[t("PartnerCouponTable",{directives:[{name:"show",rawName:"v-show",value:e.showTable,expression:"showTable"}]}),e._v(" "),e.showTable?e._e():t("div",{staticClass:"sm:gap-8 gap-4 flex flex-col items-center"},[e._m(0)])],1)])}),[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"p-8 bg-[#fafafa] border border-[#ccc] rounded-lg text-left leading"},[e._v("\n        · 메이크디어 스마트스토어에서 상품 구매 시 [보유한] 메뉴에 구매한 갯수만큼 쿠폰이 나타납니다."),t("br"),e._v("\n        · [보유한] 메뉴에서 선물 아이콘을 눌러 선물 시 해당 쿠폰이 [선물한] 메뉴로 이동합니다."),t("br"),e._v("\n        · 보유하거나 선물한 쿠폰이 사용되면 해당 쿠폰이 [사용된] 메뉴로 이동합니다.\n      ")])}],!1,null,null,null);t.default=component.exports;installComponents(component,{PartnerCouponTable:n(1693).default})}}]);